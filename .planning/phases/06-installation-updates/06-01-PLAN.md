---
phase: 06-installation-updates
plan: 01
type: execute
depends_on: []
files_modified: [install.sh]
---

<objective>
Create a curl | bash install script for easy one-line installation of pte.

Purpose: Users can install with a single command: `curl -fsSL https://raw.githubusercontent.com/.../install.sh | bash`
Output: install.sh in repository root that handles platform detection, download, verification, and installation.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-release-infrastructure/05-02-SUMMARY.md

**From Phase 5:**
- Binary naming: `pte-{os}-{arch}` (pte-linux-x86_64, pte-linux-aarch64, pte-macos-x86_64, pte-macos-aarch64)
- Checksums: checksums.txt with sha256sum format
- Release URL: `https://github.com/{owner}/{repo}/releases/latest/download/pte-{os}-{arch}`

**Target platforms:**
- Linux x86_64
- Linux aarch64 (ARM64)
- macOS x86_64 (Intel)
- macOS aarch64 (Apple Silicon)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create install script with platform detection</name>
  <files>install.sh</files>
  <action>Create install.sh in repository root with:

1. Platform detection using uname -s (OS) and uname -m (arch)
   - Map Linux to linux, Darwin to macos
   - Map x86_64 to x86_64, aarch64/arm64 to aarch64

2. Variables:
   - REPO="yourusername/pretty-table-explorer" (user can override)
   - INSTALL_DIR="${INSTALL_DIR:-/usr/local/bin}" (user can override)
   - Binary name: pte-{os}-{arch}

3. Download binary and checksum from GitHub releases:
   - Use curl with -fsSL flags
   - Download to temp directory
   - Verify sha256 checksum

4. Install:
   - Move binary to INSTALL_DIR
   - chmod +x
   - Verify with pte --version

5. Error handling:
   - Check curl/wget available
   - Check sha256sum/shasum available
   - Fail on unsupported platform
   - Clean up temp files on exit (trap)

Use POSIX-compatible shell syntax (#!/bin/sh) for maximum portability. Do NOT use bash-specific features.

Checksum verification:
- Linux: sha256sum -c
- macOS: shasum -a 256 -c</action>
  <verify>bash -n install.sh (syntax check), shellcheck install.sh (if available)</verify>
  <done>install.sh exists, passes syntax check, has platform detection for all 4 targets, downloads from GitHub releases, verifies checksums</done>
</task>

<task type="auto">
  <name>Task 2: Add install documentation to README</name>
  <files>README.md</files>
  <action>Add Installation section to README.md with:

1. One-line install command:
   ```
   curl -fsSL https://raw.githubusercontent.com/{owner}/{repo}/master/install.sh | sh
   ```

2. Custom install directory:
   ```
   INSTALL_DIR=~/.local/bin curl -fsSL ... | sh
   ```

3. Manual download alternative:
   - Link to releases page
   - Platform-specific binary names

Keep section concise - 10-15 lines max.</action>
  <verify>cat README.md | grep -A 20 "## Installation"</verify>
  <done>README has Installation section with curl command and manual alternative</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] install.sh exists and passes bash -n syntax check
- [ ] Script handles Linux x86_64, Linux aarch64, macOS x86_64, macOS aarch64
- [ ] Script downloads from GitHub releases URL pattern
- [ ] Script verifies checksums before installing
- [ ] README has installation instructions
</verification>

<success_criteria>

- install.sh created with platform detection and checksum verification
- README updated with installation instructions
- Script is portable (POSIX shell compatible)
</success_criteria>

<output>
After completion, create `.planning/phases/06-installation-updates/06-01-SUMMARY.md`
</output>
