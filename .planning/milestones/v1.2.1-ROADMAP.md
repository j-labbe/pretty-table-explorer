# Milestone v1.2.1: Patch

**Status:** âœ… SHIPPED 2026-01-20
**Phases:** 9 (FIX plans only)
**Total Plans:** 6 FIX plans

## Overview

Post-release bug fixes for split view multi-tab functionality. This patch addressed 11 UAT issues discovered during user acceptance testing of the split view feature in Phase 9.

## FIX Plans

### 09-03-FIX: Per-Tab View Mode Migration

**Goal**: Fix tab switching so view_mode is per-tab, not global
**Completed**: 2026-01-20
**Commit**: f32a9dc

**Key accomplishments:**
- Migrated view_mode from global App state to per-tab Tab state
- Tab/Shift+Tab and number keys now correctly switch between tabs
- Fixed UAT-001: Tab switching not working

### 09-03-FIX2: Split View Pane Switching and Scrolling

**Goal**: Fix Tab key pane switching and horizontal scrolling in split view
**Completed**: 2026-01-20
**Commits**: c0e797f, 2482348, 3a35316

**Key accomplishments:**
- Tab key now correctly switches focus between panes in split view
- Yellow border moves correctly to indicate focused pane
- h/l keys now work for horizontal scrolling in both panes
- Updated controls hint for split view
- Fixed UAT-004, UAT-005

### 09-03-FIX3: Split View UI Fixes

**Goal**: Add tab bar and controls hint to split view
**Completed**: 2026-01-20
**Commit**: 01a8906

**Key accomplishments:**
- Tab bar now visible in split view (header above panes)
- Controls hint now visible in split view (footer below panes)
- Vertical layout wrapper properly contains both panes
- Fixed UAT-006

### 09-03-FIX4: Split View Pane Focus for Enter Key

**Goal**: Fix Enter key to open tables in the focused pane
**Completed**: 2026-01-20
**Commit**: b32dde8

**Key accomplishments:**
- Enter key now opens tables in the focused pane (left or right)
- Pending action processing checks focus_left before deciding target pane
- Update split_idx for right pane focus, switch_to() for left pane
- Fixed UAT-007

### 09-03-FIX5: Tab Cycling and Pane Duplication Fixes

**Goal**: Fix Tab key cycling in right pane and prevent pane duplication on close
**Completed**: 2026-01-20
**Commits**: b151acb, a766e7f

**Key accomplishments:**
- Tab key in right pane cycles through tabs (split_idx)
- Tab key in left pane switches focus to right pane
- Closing tabs no longer causes both panes to show the same tab
- Focus transfers to left pane when right pane's tab is closed
- Split view invariant enforced: active_idx and split_idx must differ
- Fixed UAT-008, UAT-009, UAT-010

### 09-03-FIX6: Tab Key Simplification

**Goal**: Simplify Tab key to only toggle pane focus in split view
**Completed**: 2026-01-20
**Commit**: 607d04f

**Key accomplishments:**
- Tab key in split view now ONLY toggles focus between panes
- Removed confusing dual behavior where Tab cycled tabs when in right pane
- BackTab mirrors Tab behavior for consistency
- Fixed UAT-011 (user-requested behavior change)

---

## Milestone Summary

**Key Decisions:**

- Tab behavior in split view: simplified to always toggle focus (user request)
- Split view invariant: active_idx and split_idx must always differ when split_active is true
- Per-tab state isolation: view_mode moved from global to Tab struct

**Issues Resolved:**

- UAT-001: Tab switching not working
- UAT-002: Split view right pane cannot be changed
- UAT-003: Table selection broken after navigating back in split view
- UAT-004: Split view pane switching not working
- UAT-005: Horizontal scrolling not working in split view
- UAT-006: Tab bar and controls hint missing in split view
- UAT-007: Enter key opens table in wrong pane in split view
- UAT-008: Tab cycling in right pane affects left pane instead
- UAT-009: Enter key does nothing in right pane
- UAT-010: Closing all tabs in right pane duplicates left pane view
- UAT-011: Tab key should only switch pane focus, not cycle tabs

**Issues Deferred:**

None

**Technical Debt Incurred:**

None

---

_For current project status, see .planning/ROADMAP.md_
