# Milestone v1.0: MVP

**Status:** âœ… SHIPPED 2026-01-14
**Phases:** 1-4
**Total Plans:** 8

## Overview

Build an interactive terminal table viewer in Rust, starting with core rendering, adding navigation controls, then PostgreSQL integration. The journey takes us from parsing piped psql output to a full interactive database explorer.

## Phases

### Phase 1: Foundation

**Goal**: Working Rust project with ratatui, basic terminal app that can read stdin
**Depends on**: Nothing (first phase)
**Plans**: 2 plans

Plans:
- [x] 01-01: Cargo project setup with ratatui dependencies
- [x] 01-02: Basic terminal UI scaffold with event loop

**Details:**
- Rust 2021 edition with ratatui v0.29 and crossterm v0.28
- Terminal init/restore with panic hook for crash safety
- Event loop with 250ms poll timeout
- Quit handling for 'q' and Ctrl+C

### Phase 2: Table Rendering

**Goal**: Clean table display from piped psql output with proper column alignment
**Depends on**: Phase 1
**Plans**: 2 plans

Plans:
- [x] 02-01: Parse psql pipe format into structured data
- [x] 02-02: Render table with calculated column widths

**Details:**
- Parser module with TableData struct (headers + rows)
- Unicode handling with use-dev-tty feature for piped stdin
- Column width calculation with +1 padding
- Bold yellow header styling

### Phase 3: Navigation

**Goal**: Full keyboard navigation with smooth scrolling
**Depends on**: Phase 2
**Plans**: 2 plans

Plans:
- [x] 03-01: Vim-style (hjkl) and arrow key navigation
- [x] 03-02: Horizontal/vertical scrolling with viewport tracking

**Details:**
- TableState with selection tracking
- Row highlight with REVERSED modifier
- g/G/Home/End for jump to first/last
- Ctrl+U/D and PageUp/PageDown for page navigation
- Position indicator "Row X/Y Col Z/N"

### Phase 4: PostgreSQL Integration

**Goal**: Direct database connection with query interface and search
**Depends on**: Phase 3
**Plans**: 2 plans

Plans:
- [x] 04-01: PostgreSQL connection and query execution
- [x] 04-02: Interactive query input and search/filter

**Details:**
- postgres v0.19 (sync client, NoTls)
- --connect and --query CLI flags
- Dual-mode operation: stdin pipe OR direct connection
- ':' command mode for SQL query execution
- '/' search mode for case-insensitive row filtering
- AppMode enum for state management

---

## Milestone Summary

**Key Decisions:**

- Rust with ratatui: Best TUI library ecosystem, performance for large datasets
- Dual input modes (pipe + direct): Flexibility for different workflows
- Read-only for v1: Reduce complexity, focus on viewing experience
- Sync postgres crate: Avoid async complexity in TUI event loop
- use-dev-tty feature: Enable keyboard input when stdin is piped
- AppMode enum for input: Clear state management between modes

**Issues Resolved:**

- TTY access for piped stdin (use-dev-tty feature)
- Rust edition corrected from 2024 to 2021

**Issues Deferred:**

None

**Technical Debt Incurred:**

- Interactive column resizing not implemented (deferred to v1.1)

---

_For current project status, see .planning/ROADMAP.md_
